# templates/steps.yml

steps:
# - bash: |
#     pwd
#     git status
#     ls -al
#     git clone https://github.com/joeltimothyoh/Get-SMARTReport.git
- powershell: |
    Get-Location
    git status
    Get-ChildItem -Force | Format-Table
    Invoke-Expression "git clone https://github.com/joeltimothyoh/Get-SMARTReport.git" -ErrorAction SilentlyContinue
    Push-Location Get-SMARTReport
    Get-ChildItem -Force | Format-Table
    Import-Module ./Modules/Get-SMARTReport/Get-SMARTReport.psm1
    Get-SMARTReport
    # ./test.ps1
  errorActionPreference: stop
  # failOnStderr: false
  ignoreLASTEXITCODE: true